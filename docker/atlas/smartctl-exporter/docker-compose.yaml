---
version: "3.8"

services:
  smartctl-exporter:
    container_name: smartctl-exporter
    image: quay.io/prometheuscommunity/smartctl-exporter:v0.9.1
    restart: always
    privileged: true
    command:
      - "--smartctl.path=/usr/sbin/smartctl"
      - "--smartctl.interval=120s"
      - "--web.listen-address=0.0.0.0:9633"
      - "--web.telemetry-path=/metrics"
    ports:
      - 9633:9633
    cap_add:
      - SYS_ADMIN
    user: "0"
    volumes:
      - /dev:/dev:ro
